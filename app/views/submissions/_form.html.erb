<%= form_for(submission, html: { class: "form" }) do |f| %>
  <h1 class="form-header">Apply for Rails Girls Krak√≥w 2017
    <span class="aside-widget-text" itemprop="startDate">
      <%= footer_presenter.event_dates %>
    </span>
  </h1>

  <% if show_errors %>
    <%= render "errors", submission: submission, answers: answers %>
  <% end %>

  <div class="form-field">
    <%= f.label :full_name %>
    <%= f.text_field :full_name, maxLength: 50, required: true %>
  </div>
  <div class="form-field">
    <%= f.label :email %>
    <%= f.email_field :email, maxLength: 50, required: true %>
  </div>
  <div class="form-field">
    <%= f.label :age %>
    <%= f.number_field :age, required: true, min: 0, max: 110 %>
  </div>
  <div class="form-field">
    <%= f.label :codecademy_username %>
    <%= f.text_field :codecademy_username, maxLength: 50, required: true, class: 'with-tooltip' %>
    <span class="tooltip-text">
      We would like you to complete <strong>at least 6 units</strong> ("Introduction to Ruby" to "Hashes and Symbols") of
      <%= link_to 'Ruby course at CodeCademy', 'https://www.codecademy.com/learn/ruby', target: '_blank' %>.
      To do so, please register at
      <%= link_to 'CodeCademy', 'https://www.codecademy.com/register?redirect=%2Flearn%2Fruby', target: '_blank' %>
      and put your username below, so we can verify your progress.
      <br>
      <br>
      <em>Note: You can finish your submission now and complete the course later.
        We won't start evaluating the submissions until the end of the registration period.
      </em>
    </span>
    <div class="tooltip-arrow"></div>
  </div>
  <div class="form-field">
    <%= f.label :description, "Tell us a little bit about yourself" %>
    <%= f.text_area :description, maxLength: 500, required: true %>
    <span class="character-counter"></span>
  </div>

  <% if answers.present? %>
      <h3>Let us know how experienced you are. We will use this info to assign you to the group in which you can learn the most.</h3>
      <% answers.each do |answer| %>
        <%= render "answer_form", answer: answer, question: answer.question, f: f %>
      <% end %>
  <% end %>

  <fieldset class="form-field form-field-collection">
    <legend>What is your English level?</legend>
    <div>
      <%= f.radio_button :english, :none, required: true %>
      <%= f.label :english, "I don't speak English", value: "none" %>
    </div>
    <div>
      <%= f.radio_button :english, :basic, required: true %>
      <%= f.label :english, "Basic", value: "basic" %>
    </div>
    <div>
      <%= f.radio_button :english, :fluent, required: true %>
      <%= f.label :english, "Fluent", value: "fluent" %>
    </div>
  </fieldset>

  <fieldset class="form-field form-field-collection">
    <legend>What is your operating system?</legend>
    <div>
      <%= f.radio_button :operating_system, :mac, required: true %>
      <%= f.label :operating_system, "Mac OS", value: "mac" %>
    </div>
    <div>
      <%= f.radio_button :operating_system, :linux, required: true %>
      <%= f.label :operating_system, "Linux", value: "linux" %>
    </div>
    <div>
      <%= f.radio_button :operating_system, :windows, required: true %>
      <%= f.label :operating_system, "Windows", value: "windows" %>
    </div>
  </fieldset>

  <div class="form-field form-field-boolean">
    <%= f.check_box :first_time %>
    <%= f.label :first_time, "I did not take part in Rails Girls before" %>
  </div>
  <div class="form-field">
    <%= f.label :goals, "How are you going to use the knowledge acquired during the workshop? What are your goals and expectations?" %>
    <%= f.text_area :goals, maxlength: 500, required: true %>
    <span class="character-counter"></span>
  </div>
  <div class="form-field">
    <%= f.label :problems, "Is there anything we should be aware of to make your attendance better/easier?" %>
    <%= f.text_area :problems, class: "textarea-small", maxlength: 255 %>
    <span class="character-counter"></span>
  </div>
  <div class="form-field">
    <%= f.submit "Apply for workshop", class: "btn-small" %>
  </div>
<% end %>
